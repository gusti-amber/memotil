<%= form_with model: @form, url: task_til_path(@task), data: { turbo_frame: "_top" }, class: "flex flex-col gap-2" do |f| %>
  <%= f.hidden_field :repo, value: @selected_repo %>
  <%= f.label :path, "新しいmdファイルのパス名", class: "label text-sm text-neutral font-semibold" %>
  <%= f.text_field :path, 
                  placeholder: "category/today_i_learned.md", 
                  class: "input #{@form.errors[:path].any? ? 'input-error' : 'input-neutral'} w-full" %>
  
  <!-- パス名のバリデーションエラーの表示 -->
  <% @form.errors.where(:path).each do |error| %>
    <p class="text-xs text-error font-bold"><%= error.full_message %></p>
  <% end %>

  <%= f.label :message, "コミットメッセージ", class: "label text-sm text-neutral font-semibold" %>
  <%= f.text_field :message, 
                  value: @form.message.presence || "Add TIL: #{(@task.title || 'task')}", 
                  class: "input input-neutral w-full" %>
  <%= f.label :body, "mdファイルの内容", class: "label text-sm text-neutral font-semibold" %>
  <%= f.text_area :body, 
                  rows: 16, 
                  placeholder: "今日学んだことを記録しましょう",
                  class: "textarea text-area-neutral w-full" %>
  <div class="flex justify-end">
    <%= f.submit "GitHubリポジトリに保存", class: "btn btn-primary rounded-full shadow-none w-full" %>
  </div>
<% end %>