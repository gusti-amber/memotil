<%= form_with model: @form, url: task_til_path(@task), data: { turbo_frame: "_top" }, class: "flex flex-col gap-2" do |f| %>
  <%= f.hidden_field :repo, value: @selected_repo %>
  <%= f.label :path, class: "text-sm font-semibold" %>
  <%= f.text_field :path, 
                  placeholder: "category/today_i_learned.md", 
                  class: "input #{'input-error' if @form.errors[:path].any?} w-full
                          placeholder:text-placeholder" %>
  
  <!-- パス名のバリデーションエラーの表示 -->
  <% @form.errors.where(:path).each do |error| %>
    <p class="text-xs text-error font-bold"><%= error.full_message %></p>
  <% end %>

  <%= f.label :message, class: "text-sm font-semibold" %>
  <%= f.text_field :message, 
                  value: @form.message.presence || "Add TIL: #{(@task.title || 'task')}", 
                  class: "input w-full
                          placeholder:text-placeholder" %>
  <%= f.label :body, class: "text-sm font-semibold" %>
  <%= f.text_area :body, 
                  rows: 16, 
                  placeholder: "今日学んだことを記録しましょう",
                  class: "textarea w-full
                          placeholder:text-placeholder" %>
  <div class="flex justify-end">
    <%= f.submit "GitHubリポジトリに保存", class: "btn btn-primary rounded-full shadow-none w-full" %>
  </div>
<% end %>