<div class="flex justify-center">
  <div class="flex flex-col gap-6 p-12 max-w-2xl w-full text-base-content">
    <p class="text-2xl font-bold text-center">メールアドレス確認のお手続き</p>

    <%= form_for(resource, as: resource_name, url: confirmation_path(resource_name), html: { method: :post, class: "flex flex-col gap-4 w-full" }) do |f| %>
      <%= render "users/shared/error_messages", resource: resource %>

      <% if resource.unconfirmed_email.present? || resource.email.present? %>
        <!-- リンク切れの確認メールから確認メール送信画面へアクセスする場合 -->
        <% email = resource.pending_reconfirmation? ? resource.unconfirmed_email : resource.email %>
        <p class="text-center">
          メールアドレス確認用のリンクを<strong><%= email %></strong>に送信します。
        </p>
        <%= f.hidden_field :email, value: email %>
      <% else %>
        <!-- 確認メール送信画面へ直接アクセスする場合 -->
        <p class="text-center">
          登録されているメールアドレス宛にメールアドレス確認用のリンクを送信します。
        </p>

        <div class="field w-full">
          <%= f.label :email, class: "text-sm font-semibold" %><br />
          <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "input input-lg w-full bg-surface text-base placeholder:text-placeholder" %>
        </div>
      <% end %>

      <div class="actions flex justify-center w-full">
        <%= f.submit "確認メールを送信", class: "btn btn-lg btn-primary w-full text-base" %>
      </div>
    <% end %>
  </div>
</div>
